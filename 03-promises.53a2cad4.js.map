{"mappings":"oeAAA,IAAAA,EAAAC,EAAA,SACA,MAAMC,EAAO,CACXC,KAAMC,SAASC,cAAc,SAC7BC,UAAWF,SAASC,cAAc,qBAIrBE,OAAOL,EAAKI,UAAUE,OAGrC,SAASC,EAAcC,EAAUC,GAC/B,MAAMC,EAAgBC,KAAKC,SAAW,GAWtC,OAVc,IAAIC,SAAQ,CAACC,EAASC,KAClCC,YAAW,KACLN,EACFI,EAAQN,EAAUC,GAElBM,EAAOP,EAAUC,KAElBA,MAMPT,EAAKC,KAAKgB,iBAAiB,UAE3B,SAAiBC,GACbA,EAAEC,iBAEF,MAAMV,EAAQS,EAAEE,OAAOC,SAASZ,MAAMH,MAChCgB,EAAOJ,EAAEE,OAAOC,SAASC,KAAKhB,MAC9BiB,EAASL,EAAEE,OAAOC,SAASE,OAAOjB,MAExC,IAAI,IAAIkB,EAAI,EAAGA,EAAID,EAAQC,GAAK,EAAG,CACjC,MAAMhB,EAAWgB,EACjB,IAAIC,EAAYpB,OAAOI,GAAWJ,OAAOiB,GAAQE,EACjDjB,EAAcC,EAAUiB,GACrBC,MAAK,KACJ5B,EAAA6B,OAAOC,QAAQ,uBAAqBJ,EAAK,QAASC,WAEnDI,OAAM,KACL/B,EAAA6B,OAAOG,QAAQ,sBAAoBN,EAAG,QAASC","sources":["src/js/03-promises.js"],"sourcesContent":["import { Notify } from 'notiflix/build/notiflix-notify-aio';\nconst refs = {\n  form: document.querySelector(\".form\"),\n  inputStep: document.querySelector(\"input[name=step]\"),\n};\n\n\nlet waitStep = Number(refs.inputStep.value);\n\n\nfunction createPromise(position, delay) {\n  const shouldResolve = Math.random() > 0.3;\n  let promice = new Promise((resolve, reject) => {\n    setTimeout(() => {\n      if (shouldResolve) {\n        resolve(position, delay);\n      } else {\n        reject(position, delay);\n      }\n    }, delay);\n  });\n\n  return promice;\n};\n\nrefs.form.addEventListener(\"submit\", onClick);\n\nfunction onClick(e) {\n    e.preventDefault();\n    \n    const delay = e.target.elements.delay.value;\n    const step = e.target.elements.step.value;\n    const amount = e.target.elements.amount.value;\n\n    for(let i = 0; i < amount; i += 1) {\n      const position = i;\n      let totalStep = Number(delay) + ( Number(step) * i );\n      createPromise(position, totalStep)\n        .then(() => {\n          Notify.success(`✅ Fulfilled promise ${i + 1} in ${totalStep}}ms`);\n        })\n        .catch(() => {\n          Notify.failure(`❌ Rejected promise ${i + 1} in ${totalStep}ms`);\n        });\n    }\n    // console.log(delay, step, amount);\n};\n\n"],"names":["$iQIUW","parcelRequire","$47d4ff9957288465$var$refs","form","document","querySelector","inputStep","Number","value","$47d4ff9957288465$var$createPromise","position","delay","shouldResolve","Math","random","Promise","resolve","reject","setTimeout","addEventListener","e","preventDefault","target","elements","step","amount","i","totalStep","then","Notify","success","catch","failure"],"version":3,"file":"03-promises.53a2cad4.js.map"}